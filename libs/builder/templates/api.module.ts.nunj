// @ts-nocheck
import {ChangeDetectionStrategy, Component, NgModule} from "@angular/core";
import {RouterModule} from "@angular/router";
import {CommonModule} from '@angular/common';
import {NgDocApiListModule, NG_DOC_API_LIST_TOKEN} from '@ng-doc/app';
import apiList from './ng-doc.api-list.json';

@Component({
	template: `<ng-doc-api-list></ng-doc-api-list>`,
	providers: [{
		provide: NG_DOC_API_LIST_TOKEN,
		useValue: apiList
	}],
	changeDetection: ChangeDetectionStrategy.OnPush,
})
export class {{ api.componentName }} {
}

@NgModule({
	declarations: [{{ api.componentName }}],
	imports: [
		CommonModule,
		NgDocApiListModule,
		RouterModule.forChild([
			{
				path: '',
				component: {{ api.componentName }},
			},
			{%- for scope in api.children %}
			{
				path: '{{ scope.route }}',
				loadChildren: () => import('{{ scope.moduleImport }}').then(m => m.{{ scope.moduleName }})
			},
			{%- endfor %}
		]),
	],
	exports: [RouterModule]
})
export class {{ api.moduleName }} {
}
